Index: app/src/main/java/pt/iade/ricardodiasjoaocoelho/projetosolar/views/Cowork_Id.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package pt.iade.ricardodiasjoaocoelho.projetosolar.views;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.provider.MediaStore;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageButton;\n\nimport pt.iade.ricardodiasjoaocoelho.projetosolar.R;\n\npublic class Cowork_Id extends Fragment {\n\n    Cowork_Id() {\n        super(R.layout.activity_cowork_id);\n    }\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        View view = super.onCreateView(inflater, container, savedInstanceState);\n\n        //Makes sense and Android Studio likes it\n        assert view != null;\n\n        ImageButton cameraBttn = view.findViewById(R.id.cowork_id_camera_button);\n\n        cameraBttn.setOnClickListener(v -> {\n            Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n\n\n            startActivity(intent);\n        });\n\n        return view;\n    }\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/pt/iade/ricardodiasjoaocoelho/projetosolar/views/Cowork_Id.java b/app/src/main/java/pt/iade/ricardodiasjoaocoelho/projetosolar/views/Cowork_Id.java
--- a/app/src/main/java/pt/iade/ricardodiasjoaocoelho/projetosolar/views/Cowork_Id.java	(revision e7543c6a6963cb5e30718d0ed8cb6348c32659ff)
+++ b/app/src/main/java/pt/iade/ricardodiasjoaocoelho/projetosolar/views/Cowork_Id.java	(date 1704373983828)
@@ -3,13 +3,14 @@
 import androidx.annotation.NonNull;
 import androidx.annotation.Nullable;
 import androidx.fragment.app.Fragment;
+import android.content.Context;
 import android.content.Intent;
 import android.os.Bundle;
-import android.provider.MediaStore;
 import android.view.LayoutInflater;
 import android.view.View;
 import android.view.ViewGroup;
 import android.widget.ImageButton;
+import android.widget.ImageView;
 
 import pt.iade.ricardodiasjoaocoelho.projetosolar.R;
 
@@ -27,12 +28,15 @@
         //Makes sense and Android Studio likes it
         assert view != null;
 
+        ImageView qrImage = view.findViewById(R.id.cowork_id_card);
+
         ImageButton cameraBttn = view.findViewById(R.id.cowork_id_camera_button);
 
+        //qrImage.setImageBitmap();
+
+        Context context = view.getContext();
         cameraBttn.setOnClickListener(v -> {
-            Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);
-
-
+            Intent intent = new Intent(context, Qr_Camera.class);
             startActivity(intent);
         });
 
Index: app/src/main/AndroidManifest.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\">\n\n    <application\n        android:allowBackup=\"true\"\n        android:dataExtractionRules=\"@xml/data_extraction_rules\"\n        android:fullBackupContent=\"@xml/backup_rules\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/Theme.ProjetoSolar\"\n        tools:targetApi=\"31\">\n        <activity\n            android:name=\".views.Event_Page\"\n            android:exported=\"false\" />\n        <activity\n            android:name=\".views.Floor_Plan_Availabibity\"\n            android:exported=\"false\" />\n        <activity\n            android:name=\".views.Entry_Auto_LogIn\"\n            android:exported=\"true\">\n            <intent-filter>\n                <action android:name=\"android.intent.action.MAIN\" />\n\n                <category android:name=\"android.intent.category.LAUNCHER\" />\n            </intent-filter>\n        </activity>\n        <activity\n            android:name=\".views.Change_Apperance\"\n            android:exported=\"false\" />\n        <activity\n            android:name=\".views.Change_Password\"\n            android:exported=\"false\" />\n        <activity\n            android:name=\".views.Change_Name\"\n            android:exported=\"false\" />\n        <activity\n            android:name=\".views.Settings_Page\"\n            android:exported=\"false\" />\n        <activity\n            android:name=\".views.Company_Plan_Selelector_Fragment\"\n            android:exported=\"false\" />\n        <activity\n            android:name=\".views.Subscription_Info\"\n            android:exported=\"false\" />\n        <activity\n            android:name=\".views.Usr_Subscriptions\"\n            android:exported=\"false\" />\n        <activity\n            android:name=\".views.SignUp.Signup_User\"\n            android:exported=\"false\" />\n        <activity\n            android:name=\".views.Plan_Subscript\"\n            android:exported=\"false\" />\n        <activity\n            android:name=\".views.Space_Info\"\n            android:exported=\"false\" />\n        <activity\n            android:name=\".views.Event_RSVP\"\n            android:exported=\"false\" />\n        <activity\n            android:name=\".views.Email_Recovery\"\n            android:exported=\"false\" />\n        <activity\n            android:name=\".views.Cowork_Id\"\n            android:exported=\"false\" />\n        <activity\n            android:name=\".views.LogIn\"\n            android:exported=\"false\"/>\n        <activity\n            android:name=\".views.MainPage\"\n            android:exported=\"false\" />\n        <activity\n            android:name=\".views.Profile\"\n            android:exported=\"false\" />\n    </application>\n\n</manifest>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/AndroidManifest.xml b/app/src/main/AndroidManifest.xml
--- a/app/src/main/AndroidManifest.xml	(revision e7543c6a6963cb5e30718d0ed8cb6348c32659ff)
+++ b/app/src/main/AndroidManifest.xml	(date 1704373855527)
@@ -2,6 +2,8 @@
 <manifest xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:tools="http://schemas.android.com/tools">
 
+    <uses-feature android:name="android.hardware.camera.any"/>
+    <uses-permission android:name="android.permission.CAMERA"/>
     <application
         android:allowBackup="true"
         android:dataExtractionRules="@xml/data_extraction_rules"
@@ -12,6 +14,10 @@
         android:supportsRtl="true"
         android:theme="@style/Theme.ProjetoSolar"
         tools:targetApi="31">
+        <meta-data
+            android:name="com.google.firebase.ml.vision.DEPENDENCIES"
+            android:value="ocr" />
+
         <activity
             android:name=".views.Event_Page"
             android:exported="false" />
@@ -27,6 +33,9 @@
                 <category android:name="android.intent.category.LAUNCHER" />
             </intent-filter>
         </activity>
+        <activity
+            android:name=".views.Qr_Camera"
+            android:exported="false" />
         <activity
             android:name=".views.Change_Apperance"
             android:exported="false" />
Index: app/src/main/res/layout/activity_login.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/login_entry_\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\">\n\n    <ImageView\n        android:id=\"@+id/login_entry_logo\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"144dp\"\n        android:contentDescription=\"@string/login_entry_company_img_descript\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:srcCompat=\"@drawable/ic_launcher_foreground\" />\n\n    <EditText\n        android:id=\"@+id/login_entry_username_input\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"50dp\"\n        android:layout_marginTop=\"100dp\"\n        android:ems=\"10\"\n        android:hint=\"@string/login_entry_username\"\n        android:inputType=\"textEmailAddress\"\n        app:layout_constraintEnd_toEndOf=\"@+id/login_entry_logo\"\n        app:layout_constraintStart_toStartOf=\"@+id/login_entry_logo\"\n        app:layout_constraintTop_toBottomOf=\"@+id/login_entry_logo\" />\n\n    <EditText\n        android:id=\"@+id/login_entry_password_input\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"50dp\"\n        android:layout_marginTop=\"35dp\"\n        android:ems=\"10\"\n        android:hint=\"@string/login_entry_password\"\n        android:inputType=\"textPassword\"\n        app:layout_constraintEnd_toEndOf=\"@+id/login_entry_username_input\"\n        app:layout_constraintStart_toStartOf=\"@+id/login_entry_username_input\"\n        app:layout_constraintTop_toBottomOf=\"@+id/login_entry_username_input\" />\n\n    <Button\n        android:id=\"@+id/login_entry_forgot_credentials\"\n        android:visibility=\"gone\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginBottom=\"20dp\"\n        android:text=\"@string/login_entry_forgot_credentials_button\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"@+id/login_entry_login_button\"\n        app:layout_constraintStart_toStartOf=\"@+id/login_entry_login_button\" />\n\n    <Button\n        android:id=\"@+id/login_entry_login_button\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"10dp\"\n        android:text=\"@string/login_entry_logIn_button\"\n        app:layout_constraintEnd_toEndOf=\"@+id/login_entry_password_input\"\n        app:layout_constraintStart_toStartOf=\"@+id/login_entry_password_input\"\n        app:layout_constraintTop_toBottomOf=\"@+id/login_entry_signup_bttn\" />\n\n    <TextView\n        android:id=\"@+id/login_entry_signup_bttn\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"15sp\"\n        android:text=\"@string/login_entry_logIn_signup_button\"\n        android:textColor=\"#892FBA\"\n        app:layout_constraintEnd_toEndOf=\"@+id/login_entry_login_button\"\n        app:layout_constraintStart_toStartOf=\"@+id/login_entry_login_button\"\n        app:layout_constraintTop_toBottomOf=\"@+id/login_entry_password_input\" />\n\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/activity_login.xml b/app/src/main/res/layout/activity_login.xml
--- a/app/src/main/res/layout/activity_login.xml	(revision e7543c6a6963cb5e30718d0ed8cb6348c32659ff)
+++ b/app/src/main/res/layout/activity_login.xml	(date 1704373855528)
@@ -67,7 +67,7 @@
         android:layout_width="wrap_content"
         android:layout_height="wrap_content"
         android:layout_marginTop="15sp"
-        android:text="@string/login_entry_logIn_signup_button"
+        android:text="@string/login_entry_signup_button"
         android:textColor="#892FBA"
         app:layout_constraintEnd_toEndOf="@+id/login_entry_login_button"
         app:layout_constraintStart_toStartOf="@+id/login_entry_login_button"
Index: app/src/main/java/pt/iade/ricardodiasjoaocoelho/projetosolar/views/Qr_Camera.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/pt/iade/ricardodiasjoaocoelho/projetosolar/views/Qr_Camera.java b/app/src/main/java/pt/iade/ricardodiasjoaocoelho/projetosolar/views/Qr_Camera.java
new file mode 100644
--- /dev/null	(date 1704373983828)
+++ b/app/src/main/java/pt/iade/ricardodiasjoaocoelho/projetosolar/views/Qr_Camera.java	(date 1704373983828)
@@ -0,0 +1,102 @@
+package pt.iade.ricardodiasjoaocoelho.projetosolar.views;
+
+import android.content.pm.PackageManager;
+import android.os.Bundle;
+import androidx.annotation.NonNull;
+import androidx.appcompat.app.AppCompatActivity;
+import androidx.camera.core.CameraSelector;
+import androidx.camera.core.ImageAnalysis;
+import androidx.camera.core.ImageProxy;
+import androidx.camera.core.Preview;
+import androidx.camera.lifecycle.ProcessCameraProvider;
+import androidx.camera.view.PreviewView;
+import androidx.core.content.ContextCompat;
+import androidx.lifecycle.LifecycleOwner;
+import com.google.android.gms.tasks.Task;
+import com.google.common.util.concurrent.ListenableFuture;
+import com.google.mlkit.vision.barcode.BarcodeScanner;
+import com.google.mlkit.vision.barcode.BarcodeScanning;
+import com.google.mlkit.vision.barcode.common.Barcode;
+import com.google.mlkit.vision.common.InputImage;
+import java.util.List;
+import java.util.concurrent.ExecutionException;
+import pt.iade.ricardodiasjoaocoelho.projetosolar.R;
+
+public class Qr_Camera extends AppCompatActivity {
+
+    ListenableFuture<ProcessCameraProvider> cameraProviderFuture;
+
+    @Override
+    protected void onCreate(Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+        setContentView(R.layout.qr_camera_activity);
+        LifecycleOwner lifecycleOwner = this;
+
+        PreviewView previewView = findViewById(R.id.qr_camera_preview);
+
+        if (ContextCompat.checkSelfPermission(this, android.Manifest.permission.CAMERA) == PackageManager.PERMISSION_GRANTED) {
+            startCamera(lifecycleOwner, previewView);
+        }
+        else
+        {
+            requestPermissions(new String[]{android.Manifest.permission.CAMERA}, 101);
+        }
+    }
+
+    @Override
+    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {
+        super.onRequestPermissionsResult(requestCode, permissions, grantResults);
+        PreviewView previewView = findViewById(R.id.qr_camera_preview);
+        LifecycleOwner lifecycleOwner = this;
+
+        if (requestCode == 101) {
+            if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {
+                startCamera(lifecycleOwner, previewView);
+            } else {
+                finish();
+            }
+        }
+    }
+
+    private void startCamera(LifecycleOwner lifecycleOwner, PreviewView previewView) {
+        cameraProviderFuture = ProcessCameraProvider.getInstance(this);
+
+        cameraProviderFuture.addListener(new Runnable() {
+            @Override
+            public void run() {
+                ProcessCameraProvider cameraProvider = null;
+                try {
+                    cameraProvider = cameraProviderFuture.get();
+                } catch (ExecutionException | InterruptedException e) {
+                    throw new RuntimeException(e);
+                }
+
+                ImageAnalysis imageAnalysis = new ImageAnalysis.Builder().build();
+
+                imageAnalysis.setAnalyzer(getMainExecutor(), new ImageAnalysis.Analyzer() {
+                    @Override
+                    public void analyze(@NonNull ImageProxy image) {
+                        InputImage inputImage = InputImage.fromMediaImage(image.getImage(), image.getImageInfo().getRotationDegrees());
+
+                        BarcodeScanner scanner = BarcodeScanning.getClient();
+
+                        Task<List<Barcode>> results = scanner.process(inputImage);
+
+                        results.addOnSuccessListener(barcodes -> {
+                                    for (Barcode barcode : barcodes) {
+                                        String rawValue = barcode.getRawValue();
+                                    }
+                                    image.close();
+                                });
+                    }
+                });
+
+                Preview preview = new Preview.Builder().build();
+                CameraSelector cameraSelector = new CameraSelector.Builder().requireLensFacing(CameraSelector.LENS_FACING_BACK).build();
+
+                preview.setSurfaceProvider(previewView.getSurfaceProvider());
+                cameraProvider.bindToLifecycle(lifecycleOwner, cameraSelector, preview, imageAnalysis);
+            }
+        }, getMainExecutor());
+    }
+}
Index: app/src/main/res/layout/qr_camera_activity.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/qr_camera_activity.xml b/app/src/main/res/layout/qr_camera_activity.xml
new file mode 100644
--- /dev/null	(date 1704373855528)
+++ b/app/src/main/res/layout/qr_camera_activity.xml	(date 1704373855528)
@@ -0,0 +1,29 @@
+<?xml version="1.0" encoding="utf-8"?>
+<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent">
+
+    <androidx.camera.view.PreviewView
+        android:id="@+id/qr_camera_preview"
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"
+        android:layout_gravity="center"
+        app:layout_constraintBottom_toBottomOf="parent"
+        app:layout_constraintEnd_toEndOf="parent"
+        app:layout_constraintStart_toStartOf="parent"
+        app:layout_constraintTop_toTopOf="parent" />
+
+    <TextView
+        android:id="@+id/textView4"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_marginTop="80dp"
+        android:text="@string/qr_camera_preview_title"
+        android:textColor="@color/dark_ligth"
+        android:textSize="25sp"
+        app:layout_constraintEnd_toEndOf="@+id/qr_camera_preview"
+        app:layout_constraintStart_toStartOf="@+id/qr_camera_preview"
+        app:layout_constraintTop_toTopOf="parent" />
+
+</androidx.constraintlayout.widget.ConstraintLayout>
\ No newline at end of file
